{
  "title": "ANSA Initial Assessment",
  "pages": [
   {
    "name": "LookupOptions",
    "elements": [
     {
      "type": "radiogroup",
      "name": "ClientLookupMethods",
      "title": "Lookup Client by : ",
      "isRequired": true,
      "titleLocation": "left",
      "commentText": "jhvjhv",
      "choices": [
       {
        "value": "by_name",
        "text": "Name, Sex, DOB"
       },
       {
        "value": "by_id",
        "text": "By DB-ID / SLK"
       }
      ],
      "colCount": 2
     }
    ]
   },
   {
    "name": "client_lookup_id",
    "elements": [
     {
      "type": "radiogroup",
      "name": "id_type",
      "title": "ID Type",
      "isRequired": true,
      "choices": [
       {
        "value": "SLK",
        "text": "SLK"
       },
       {
        "value": "MCARE_ID",
        "text": "Mastercare"
       },
       {
        "value": "CCARE_ID",
        "text": "Communicare"
       }
      ],
      "colCount": 3
     },
     {
      "type": "text",
      "name": "client_id",
      "title": "Database ID",
      "isRequired": true,
      "validators": [
       {
        "type": "expression",
        "text": "Invalid Value",
        "expression": "isValidLookupIds({id_type}, {client_id})"       
       }
      ]
     }
    ],
    "visibleIf": "{ClientLookupMethods} = 'by_id'",
    "title": "Client Lookup by ID"
   },
   {
    "name": "client_lookup_name",
    "elements": [
     {
      "type": "text",
      "name": "first_name",
      "useDisplayValuesInTitle": false,
      "titleLocation": "hidden",
      "placeHolder": "First name"
     },
     {
      "type": "text",
      "name": "last_name",
      "useDisplayValuesInTitle": false,
      "titleLocation": "hidden",
      "placeHolder": "Surname"
     },
     {
      "type": "radiogroup",
      "name": "sex",
      "indent": 10,
      "titleLocation": "hidden",
      "choices": [
       {
        "value": "male",
        "text": "Male"
       },
       {
        "value": "female",
        "text": "Female"
       },
       {
        "value": "other",
        "text": "Other"
       }
      ],
      "colCount": 3
     },
     {
      "type": "text",
      "name": "DOB",
      "title": "DOB",
      "inputType": "date"
     }
    ],
    "visibleIf": "{ClientLookupMethods} = 'by_name'",
    "title": "Client Lookup by Name"
   },
   {
    "name": "survey_meta",
    "elements": [
     {
      "type": "radiogroup",
      "name": "team_name",
      "defaultValue": "eurobodalla",
      "isRequired": true,
      "titleLocation": "hidden",
      "choices": [
       {
        "value": "eurobodalla",
        "text": "Eurobodalla"
       },
       {
        "value": "monaro",
        "text": "Monaro"
       },
       {
        "value": "bega",
        "text": "Bega"
       }
      ],
      "colCount": 3
     },
     {
      "type": "radiogroup",
      "name": "staff_name",
      "isRequired": true,
      "titleLocation": "hidden",
      "choices": [
       {
        "value": "vic",
        "text": "Vic",
        "visibleIf": "{team_name} = 'eurobodalla'"
       },
       {
        "value": "glenda",
        "text": "Glenda",
        "visibleIf": "{team_name} = 'eurobodalla'"
       },
       {
        "value": "jacinta",
        "text": "Jacinta",
        "visibleIf": "{team_name} = 'eurobodalla'"
       },
       {
        "value": "tracy",
        "text": "Tracy",
        "visibleIf": "{team_name} = 'eurobodalla'"
       },
       {
        "value": "aaron",
        "text": "Aaron",
        "visibleIf": "{team_name} = 'monaro'"
       },
       {
        "value": "belinda",
        "text": "Belinda",
        "visibleIf": "{team_name} = 'monaro'"
       },
       {
        "value": "michelle",
        "text": "Michelle",
        "visibleIf": "{team_name} = 'bega'"
       }
      ],
      "colCount": 3
     }
    ],
    "questionTitleLocation": "hidden",
    "title": "Team and Staff"
   },
   {
    "name": "client_info",
    "elements": [
     {
      "type": "matrixdropdown",
      "name": "client_slk",
      "title": "Client name",
      "columns": [
       {
        "name": "Firstname",
        "title": "First name",
        "cellType": "text"
       },
       {
        "name": "Surname",
        "title": "Surname",
        "cellType": "text"
       },
       {
        "name": "Gender",
        "title": "Gender",
        "cellType": "dropdown"
       }
      ],
      "columnLayout": "vertical",
      "choices": [
       {
        "value": "m",
        "text": "Male"
       },
       {
        "value": "f",
        "text": "Female"
       },
       {
        "value": "o",
        "text": "Other"
       }
      ],
      "cellType": "text",
      "rows": [
       "rows_sex"
      ]
     },
     {
      "type": "panel",
      "name": "panel2",
      "elements": [
       {
        "type": "text",
        "name": "birthDate",
        "startWithNewLine": false,
        "title": "Date of birth:",
        "isRequired": true,
        "inputType": "date"
       }
      ],
      "questionTitleLocation": "left"
     }
    ],
    "title": "Client Basic Information"
   },
   {
    "name": "main_substance_use",
    "elements": [
     {
      "type": "radiogroup",
      "name": "pdc",
      "indent": 3,
      "isRequired": true,
      "titleLocation": "hidden",
      "choices": [
       {
        "value": "alcohol",
        "text": "Alcohol"
       },
       {
        "value": "amphetamine",
        "text": "Amphetamines"
       },
       {
        "value": "cocaine",
        "text": "Cocaine"
       },
       {
        "value": "opioid",
        "text": "Opioids"
       },
       {
        "value": "nicotine",
        "text": "Nicotine"
       },
       {
        "value": "sedative",
        "text": "Sedatives"
       }
      ],
      "colCount": 3
     },
     {
      "type": "radiogroup",
      "name": "pdc_method_of_use",
      "visible": false,
      "visibleIf": "{pdc} notempty",
      "indent": 3,
      "isRequired": true,
      "titleLocation": "hidden",
      "choices": [
       {
        "value": "ingests",
        "text": "Ingests",
        "visibleIf": "{pdc} = 'alcohol' or {pdc} = 'nicotine' or {pdc} = 'sedative'"
       },
       {
        "value": "injects",
        "text": "Injects",
        "visibleIf": "{pdc} = 'amphetamine' or {pdc} = 'opioid'"
       },
       {
        "value": "inhales",
        "text": "Inhales",
        "visibleIf": "{pdc} = 'nicotine'"
       },
       {
        "value": "transdermal",
        "text": "Transdermal",
        "visibleIf": "{pdc} = 'nicotine'"
       },
       {
        "value": "sublingual",
        "text": "Sublingual",
        "visibleIf": "{pdc} = 'nicotine'"
       },
       {
        "value": "smokes",
        "text": "Smokes",
        "visibleIf": "{pdc} = 'nicotine'"
       }
      ],
      "colCount": 3
     }
    ],
    "title": "Principal Substance of Concern and Method of Use"
   },
   {
    "name": "other_substance_use",
    "elements": [
     {
      "type": "paneldynamic",
      "name": "odc",
      "title": "Please enter all other drugs of concern",
      "templateElements": [
       {
        "type": "dropdown",
        "name": "drug_type",
        "isRequired": true,
        "titleLocation": "hidden",
        "choices": [
         {
          "value": "alcohol",
          "text": "Alcohol",
          "visibleIf": "{pdc} <> 'alcohol'"
         },
         {
          "value": "amphetamines",
          "text": "Amphetamines",
          "visibleIf": "{pdc} <> 'amphetamine'"
         },
         {
          "value": "opioids",
          "text": "Opioids",
          "visibleIf": "{pdc} <> 'opioid'"
         },
         {
          "value": "nicotine",
          "text": "Nicotine",
          "visibleIf": "{pdc} <> 'nicotine'"
         },
         {
          "value": "sedatives",
          "text": "Sedatives",
          "visibleIf": "{pdc} <> 'sedative'"
         }
        ]
       },
       {
        "type": "radiogroup",
        "name": "odcx_method_of_use",
        "indent": 3,
        "requiredIf": "{odc[0].drug_type} notempty",
        "titleLocation": "hidden",
        "choices": [
         {
          "value": "ingests",
          "text": "Ingests"
         },
         {
          "value": "injects",
          "text": "Injects",
          "visibleIf": "{odc[0].drug_type} = 'opioids'"
         },
         {
          "value": "inhales",
          "text": "Inhales",
          "visibleIf": "{odc[0].drug_type} = 'amphetamines'"
         },
         {
          "value": "transdermal",
          "text": "Transdermal",
          "visibleIf": "{odc[0].drug_type} = 'nicotine'"
         },
         {
          "value": "smokes",
          "text": "Smokes",
          "visibleIf": "{odc[0].drug_type} = 'nicotine'"
         },
         {
          "value": "sublingual",
          "text": "Sublingual",
          "visibleIf": "{odc[0].drug_type} = 'nicotine'"
         }
        ],
        "colCount": 3
       },
       {
        "type": "rating",
        "name": "odcx_how_many_days",
        "requiredIf": "{odc[0].drug_type} notempty",
        "rateMin": 0,
        "rateMax": 28,
        "rateStep": 2
       }
      ],
      "maxPanelCount": 5,
      "panelsState": "firstExpanded",
      "panelAddText": "Add ODC",
      "panelRemoveText": "Remove ODC",
      "panelPrevText": "Prev",
      "panelNextText": "Next",
      "showRangeInProgress": false,
      "renderMode": "progressTop"
     }
    ]
   },
   {
    "name": "AODHistory",
    "elements": [
     {
      "type": "paneldynamic",
      "name": "aod_history",
      "title": "AOD History",
      "templateElements": [
       {
        "type": "dropdown",
        "name": "Drug Type",
        "choices": [
         {
          "value": "alcohol",
          "text": "Alcohol"
         },
         {
          "value": "opioids",
          "text": "Opioids"
         },
         {
          "value": "sedatives",
          "text": "Sedatives"
         },
         {
          "value": "meth",
          "text": "Meth"
         },
         {
          "value": "nictonine",
          "text": "Nicotine"
         }
        ]
       },
       {
        "type": "radiogroup",
        "name": "method_of_use",
        "visible": false,
        "indent": 3,
        "requiredIf": "{aod_history[0].Drug Type} notempty",
        "titleLocation": "hidden",
        "choices": [
         {
          "value": "ingests",
          "text": "Ingests",
          "visibleIf": "{pdc} = 'alcohol' or {pdc} = 'nicotine' and {pdc} = 'sedative'"
         },
         {
          "value": "injects",
          "text": "Injects",
          "visibleIf": "{pdc} = 'amphetamine' or {pdc} = 'opioid'"
         },
         {
          "value": "inhales",
          "text": "Inhales",
          "visibleIf": "{pdc} = 'nicotine'"
         },
         {
          "value": "transdermal",
          "text": "Transdermal",
          "visibleIf": "{pdc} = 'nicotine'"
         },
         {
          "value": "sublingual",
          "text": "Sublingual",
          "visibleIf": "{pdc} = 'nicotine'"
         }
        ],
        "colCount": 3
       },
       {
        "type": "text",
        "name": "age_first_used",
        "width": "30",
        "indent": 1,
        "title": "Age First Used",
        "valueName": "5",
        "defaultValue": 0,
        "titleLocation": "left",
        "inputType": "range",
        "size": 90,
        "maxLength": 90
       },
       {
        "type": "radiogroup",
        "name": "how_often_used",
        "indent": 3,
        "title": "How Often",
        "requiredIf": "{aod_history[0].Drug Type} notempty",
        "titleLocation": "hidden",
        "choices": [
         {
          "value": "daily",
          "text": "daily"
         },
         {
          "value": "weekly",
          "text": "weekly"
         },
         {
          "value": "monthly",
          "text": "monthly"
         }
        ],
        "colCount": 4
       },
       {
        "type": "text",
        "name": "amount_used",
        "width": "30",
        "indent": 1,
        "title": "Amount per period",
        "valueName": "f5",
        "defaultValue": 0,
        "requiredIf": "{aod_history[0].Drug Type} notempty",
        "titleLocation": "left",
        "inputType": "range",
        "size": 90,
        "maxLength": 90
       }
      ],
      "panelCount": 0,
      "maxPanelCount": 5,
      "panelsState": "firstExpanded",
      "panelAddText": "Add Drug",
      "panelRemoveText": "Remove Drug",
      "showRangeInProgress": false,
      "renderMode": "progressTop"
     }
    ]
   },
   {
    "name": "impact",
    "elements": [
     {
      "type": "checkbox",
      "name": "aod_harms_risks",
      "title": "AOD Harms  / Risks",
      "description": "In the last 4 weeks, have you experienced any of the following risks?",
      "hasOther": true,
      "choices": [
       {
        "value": "memloss",
        "text": "Memory Loss"
       },
       {
        "value": "usealone",
        "text": "Using Alone"
       },
       {
        "value": "morethanonedrug",
        "text": "Using more than one drug at a time"
       },
       {
        "value": "violence",
        "text": "Violence / Assault"
       }
      ],
      "otherText": "Other / Notes"
     },
     {
      "type": "rating",
      "name": "impctdaily",
      "startWithNewLine": false,
      "title": "# Impact on Daily Living",
      "description": "During the last 4 weeks, how often has your substance use (or other addictive behaviour) impacted on your work or other daily living activities (like: social, recreational. study, caring for family)?",
      "rateValues": [
       {
        "value": "0",
        "text": "Not at all"
       },
       {
        "value": "1",
        "text": "Less than weekly"
       },
       {
        "value": "2",
        "text": "Once or twice a week"
       },
       {
        "value": "3",
        "text": "Three or four times a week"
       },
       {
        "value": "4",
        "text": "Daily or almost daily"
       }
      ],
      "rateMin": 3,
      "rateMax": 4,
      "minRateDescription": "Not at all",
      "maxRateDescription": "Daily or almost daily"
     },
     {
      "type": "matrixdropdown",
      "name": "addctv",
      "startWithNewLine": false,
      "title": "Did you engage in any other addictive behaviours in the last 4 weeks?",
      "columns": [
       {
        "name": "ndays",
        "title": "Number of days",
        "cellType": "text",
        "width": "28",
        "validators": [
         {
          "type": "numeric",
          "minValue": 0,
          "maxValue": 28
         }
        ],
        "placeHolder": "0",
        "inputType": "range"
       }
      ],
      "choices": [
       {
        "value": 1,
        "text": "dfg"
       },
       {
        "value": 2,
        "text": "555"
       },
       3,
       {
        "value": 4,
        "text": "gg"
       },
       {
        "value": 5,
        "text": "ddgfd"
       }
      ],
      "columnMinWidth": "28",
      "rows": [
       {
        "value": "sex",
        "text": "Sex"
       },
       {
        "value": "internet",
        "text": "Internet"
       }
      ]
     }
    ],
    "title": "Impact of Substance Use"
   }
  ],
  "showNavigationButtons": "none",
  "showTitle": false,
  "showProgressBar": "bottom",
  "progressBarType": "questions",
  "goNextPageAutomatic": true,
  "questionTitleTemplate": "{title}"
 }